{"version":3,"sources":["skylark-eyecon-colorpicker.js"],"names":["define","skylark","$","charMin","defaults","fillRGBFields","fillHSBFields","fillHexFields","setSelector","setHue","setCurrentColor","setNewColor","keyDown","change","blur","focus","downIncrement","moveIncrement","upIncrement","downHue","moveHue","upHue","downSelector","moveSelector","upSelector","enterSubmit","leaveSubmit","clickSubmit","show","hide","isChildOf","getViewport","fixHSB","fixRGB","fixHex","HexToHSB","RGBToHSB","HSBToRGB","HSBToHex","restoreOriginal","ColorPicker","eventName","onShow","onBeforeShow","onHide","onChange","onSubmit","color","livePreview","flat","hsb","cal","rgb","data","fields","eq","val","r","end","g","b","h","s","selector","css","selectorIndic","left","parseInt","top","hue","currentColor","newColor","ev","pressedKey","charCode","keyCode","this","parent","apply","col","parentNode","className","indexOf","value","get","removeClass","addClass","field","find","current","el","max","y","pageY","preview","document","bind","Math","min","unbind","offset","pos","pageX","origColor","viewPort","offsetHeight","t","l","w","target","parentEl","container","contains","compareDocumentPosition","prEl","m","compatMode","window","pageXOffset","documentElement","scrollLeft","body","pageYOffset","scrollTop","innerWidth","clientWidth","innerHeight","clientHeight","hex","len","length","o","i","push","join","substring","HexToRGB","delta","round","v","t1","t2","t3","toString","each","nr","init","opt","extend","undefined","options","id","random","attr","appendTo","position","display","showPicker","hidePicker","setColor","fn","ColorPickerHide","ColorPickerShow","ColorPickerSetColor","colorpicker","main"],"mappings":"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","file":"../skylark-eyecon-colorpicker.js","sourcesContent":["define('skylark-eyecon-colorpicker/colorpicker',[\r\n\t\"skylark-langx/skylark\",\r\n\t\"skylark-jquery\"\r\n],function (skylark,$) {\r\n\tvar ColorPicker = function () {\r\n\t\tvar\r\n\t\t\tids = {},\r\n\t\t\tinAction,\r\n\t\t\tcharMin = 65,\r\n\t\t\tvisible,\r\n\t\t\ttpl = '<div class=\"colorpicker\"><div class=\"colorpicker_color\"><div><div></div></div></div><div class=\"colorpicker_hue\"><div></div></div><div class=\"colorpicker_new_color\"></div><div class=\"colorpicker_current_color\"></div><div class=\"colorpicker_hex\"><input type=\"text\" maxlength=\"6\" size=\"6\" /></div><div class=\"colorpicker_rgb_r colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_g colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_h colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_s colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_submit\"></div></div>',\r\n\t\t\tdefaults = {\r\n\t\t\t\teventName: 'click',\r\n\t\t\t\tonShow: function () {},\r\n\t\t\t\tonBeforeShow: function(){},\r\n\t\t\t\tonHide: function () {},\r\n\t\t\t\tonChange: function () {},\r\n\t\t\t\tonSubmit: function () {},\r\n\t\t\t\tcolor: 'ff0000',\r\n\t\t\t\tlivePreview: true,\r\n\t\t\t\tflat: false\r\n\t\t\t},\r\n\t\t\tfillRGBFields = function  (hsb, cal) {\r\n\t\t\t\tvar rgb = HSBToRGB(hsb);\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(1).val(rgb.r).end()\r\n\t\t\t\t\t.eq(2).val(rgb.g).end()\r\n\t\t\t\t\t.eq(3).val(rgb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHSBFields = function  (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(4).val(hsb.h).end()\r\n\t\t\t\t\t.eq(5).val(hsb.s).end()\r\n\t\t\t\t\t.eq(6).val(hsb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHexFields = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(0).val(HSBToHex(hsb)).end();\r\n\t\t\t},\r\n\t\t\tsetSelector = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').selector.css('backgroundColor', '#' + HSBToHex({h: hsb.h, s: 100, b: 100}));\r\n\t\t\t\t$(cal).data('colorpicker').selectorIndic.css({\r\n\t\t\t\t\tleft: parseInt(150 * hsb.s/100, 10),\r\n\t\t\t\t\ttop: parseInt(150 * (100-hsb.b)/100, 10)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetHue = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').hue.css('top', parseInt(150 - 150 * hsb.h/360, 10));\r\n\t\t\t},\r\n\t\t\tsetCurrentColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').currentColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tsetNewColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').newColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tkeyDown = function (ev) {\r\n\t\t\t\tvar pressedKey = ev.charCode || ev.keyCode || -1;\r\n\t\t\t\tif ((pressedKey > charMin && pressedKey <= 90) || pressedKey == 32) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tif (cal.data('colorpicker').livePreview === true) {\r\n\t\t\t\t\tchange.apply(this);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchange = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent(), col;\r\n\t\t\t\tif (this.parentNode.className.indexOf('_hex') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = HexToHSB(fixHex(this.value));\r\n\t\t\t\t} else if (this.parentNode.className.indexOf('_hsb') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = fixHSB({\r\n\t\t\t\t\t\th: parseInt(cal.data('colorpicker').fields.eq(4).val(), 10),\r\n\t\t\t\t\t\ts: parseInt(cal.data('colorpicker').fields.eq(5).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(6).val(), 10)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = RGBToHSB(fixRGB({\r\n\t\t\t\t\t\tr: parseInt(cal.data('colorpicker').fields.eq(1).val(), 10),\r\n\t\t\t\t\t\tg: parseInt(cal.data('colorpicker').fields.eq(2).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(3).val(), 10)\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tif (ev) {\r\n\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t}\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onChange.apply(cal, [col, HSBToHex(col), HSBToRGB(col)]);\r\n\t\t\t},\r\n\t\t\tblur = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tcal.data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tfocus = function () {\r\n\t\t\t\tcharMin = this.parentNode.className.indexOf('_hex') > 0 ? 70 : 65;\r\n\t\t\t\t$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t\t$(this).parent().addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tdownIncrement = function (ev) {\r\n\t\t\t\tvar field = $(this).parent().find('input').focus();\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tel: $(this).parent().addClass('colorpicker_slider'),\r\n\t\t\t\t\tmax: this.parentNode.className.indexOf('_hsb_h') > 0 ? 360 : (this.parentNode.className.indexOf('_hsb') > 0 ? 100 : 255),\r\n\t\t\t\t\ty: ev.pageY,\r\n\t\t\t\t\tfield: field,\r\n\t\t\t\t\tval: parseInt(field.val(), 10),\r\n\t\t\t\t\tpreview: $(this).parent().parent().data('colorpicker').livePreview\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t$(document).bind('mouseup', current, upIncrement);\r\n\t\t\t\t$(document).bind('mousemove', current, moveIncrement);\r\n\t\t\t},\r\n\t\t\tmoveIncrement = function (ev) {\r\n\t\t\t\tev.data.field.val(Math.max(0, Math.min(ev.data.max, parseInt(ev.data.val + ev.pageY - ev.data.y, 10))));\r\n\t\t\t\tif (ev.data.preview) {\r\n\t\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupIncrement = function (ev) {\r\n\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\tev.data.el.removeClass('colorpicker_slider').find('input').focus();\r\n\t\t\t\t$(document).unbind('mouseup', upIncrement);\r\n\t\t\t\t$(document).unbind('mousemove', moveIncrement);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownHue = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\ty: $(this).offset().top\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upHue);\r\n\t\t\t\t$(document).bind('mousemove', current, moveHue);\r\n\t\t\t},\r\n\t\t\tmoveHue = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(4)\r\n\t\t\t\t\t\t.val(parseInt(360*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.y))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupHue = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upHue);\r\n\t\t\t\t$(document).unbind('mousemove', moveHue);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownSelector = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\tpos: $(this).offset()\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upSelector);\r\n\t\t\t\t$(document).bind('mousemove', current, moveSelector);\r\n\t\t\t},\r\n\t\t\tmoveSelector = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(6)\r\n\t\t\t\t\t\t.val(parseInt(100*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.pos.top))))/150, 10))\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.eq(5)\r\n\t\t\t\t\t\t.val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX - ev.data.pos.left))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupSelector = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upSelector);\r\n\t\t\t\t$(document).unbind('mousemove', moveSelector);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tenterSubmit = function (ev) {\r\n\t\t\t\t$(this).addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tleaveSubmit = function (ev) {\r\n\t\t\t\t$(this).removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tclickSubmit = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').color;\r\n\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onSubmit(col, HSBToHex(col), HSBToRGB(col), cal.data('colorpicker').el);\r\n\t\t\t},\r\n\t\t\tshow = function (ev) {\r\n\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\tcal.data('colorpicker').onBeforeShow.apply(this, [cal.get(0)]);\r\n\t\t\t\tvar pos = $(this).offset();\r\n\t\t\t\tvar viewPort = getViewport();\r\n\t\t\t\tvar top = pos.top + this.offsetHeight;\r\n\t\t\t\tvar left = pos.left;\r\n\t\t\t\tif (top + 176 > viewPort.t + viewPort.h) {\r\n\t\t\t\t\ttop -= this.offsetHeight + 176;\r\n\t\t\t\t}\r\n\t\t\t\tif (left + 356 > viewPort.l + viewPort.w) {\r\n\t\t\t\t\tleft -= 356;\r\n\t\t\t\t}\r\n\t\t\t\tcal.css({left: left + 'px', top: top + 'px'});\r\n\t\t\t\tif (cal.data('colorpicker').onShow.apply(this, [cal.get(0)]) != false) {\r\n\t\t\t\t\tcal.show();\r\n\t\t\t\t}\r\n\t\t\t\t$(document).bind('mousedown', {cal: cal}, hide);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\thide = function (ev) {\r\n\t\t\t\tif (!isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\r\n\t\t\t\t\tif (ev.data.cal.data('colorpicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\r\n\t\t\t\t\t\tev.data.cal.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(document).unbind('mousedown', hide);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisChildOf = function(parentEl, el, container) {\r\n\t\t\t\tif (parentEl == el) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif (parentEl.contains) {\r\n\t\t\t\t\treturn parentEl.contains(el);\r\n\t\t\t\t}\r\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\r\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\r\n\t\t\t\t}\r\n\t\t\t\tvar prEl = el.parentNode;\r\n\t\t\t\twhile(prEl && prEl != container) {\r\n\t\t\t\t\tif (prEl == parentEl)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\tprEl = prEl.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgetViewport = function () {\r\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\r\n\t\t\t\treturn {\r\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\r\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\r\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\r\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHSB = function (hsb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\th: Math.min(360, Math.max(0, hsb.h)),\r\n\t\t\t\t\ts: Math.min(100, Math.max(0, hsb.s)),\r\n\t\t\t\t\tb: Math.min(100, Math.max(0, hsb.b))\r\n\t\t\t\t};\r\n\t\t\t}, \r\n\t\t\tfixRGB = function (rgb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tr: Math.min(255, Math.max(0, rgb.r)),\r\n\t\t\t\t\tg: Math.min(255, Math.max(0, rgb.g)),\r\n\t\t\t\t\tb: Math.min(255, Math.max(0, rgb.b))\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHex = function (hex) {\r\n\t\t\t\tvar len = 6 - hex.length;\r\n\t\t\t\tif (len > 0) {\r\n\t\t\t\t\tvar o = [];\r\n\t\t\t\t\tfor (var i=0; i<len; i++) {\r\n\t\t\t\t\t\to.push('0');\r\n\t\t\t\t\t}\r\n\t\t\t\t\to.push(hex);\r\n\t\t\t\t\thex = o.join('');\r\n\t\t\t\t}\r\n\t\t\t\treturn hex;\r\n\t\t\t}, \r\n\t\t\tHexToRGB = function (hex) {\r\n\t\t\t\tvar hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\r\n\t\t\t\treturn {r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF)};\r\n\t\t\t},\r\n\t\t\tHexToHSB = function (hex) {\r\n\t\t\t\treturn RGBToHSB(HexToRGB(hex));\r\n\t\t\t},\r\n\t\t\tRGBToHSB = function (rgb) {\r\n\t\t\t\tvar hsb = {\r\n\t\t\t\t\th: 0,\r\n\t\t\t\t\ts: 0,\r\n\t\t\t\t\tb: 0\r\n\t\t\t\t};\r\n\t\t\t\tvar min = Math.min(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar max = Math.max(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar delta = max - min;\r\n\t\t\t\thsb.b = max;\r\n\t\t\t\tif (max != 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\thsb.s = max != 0 ? 255 * delta / max : 0;\r\n\t\t\t\tif (hsb.s != 0) {\r\n\t\t\t\t\tif (rgb.r == max) {\r\n\t\t\t\t\t\thsb.h = (rgb.g - rgb.b) / delta;\r\n\t\t\t\t\t} else if (rgb.g == max) {\r\n\t\t\t\t\t\thsb.h = 2 + (rgb.b - rgb.r) / delta;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thsb.h = 4 + (rgb.r - rgb.g) / delta;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\thsb.h = -1;\r\n\t\t\t\t}\r\n\t\t\t\thsb.h *= 60;\r\n\t\t\t\tif (hsb.h < 0) {\r\n\t\t\t\t\thsb.h += 360;\r\n\t\t\t\t}\r\n\t\t\t\thsb.s *= 100/255;\r\n\t\t\t\thsb.b *= 100/255;\r\n\t\t\t\treturn hsb;\r\n\t\t\t},\r\n\t\t\tHSBToRGB = function (hsb) {\r\n\t\t\t\tvar rgb = {};\r\n\t\t\t\tvar h = Math.round(hsb.h);\r\n\t\t\t\tvar s = Math.round(hsb.s*255/100);\r\n\t\t\t\tvar v = Math.round(hsb.b*255/100);\r\n\t\t\t\tif(s == 0) {\r\n\t\t\t\t\trgb.r = rgb.g = rgb.b = v;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar t1 = v;\r\n\t\t\t\t\tvar t2 = (255-s)*v/255;\r\n\t\t\t\t\tvar t3 = (t1-t2)*(h%60)/60;\r\n\t\t\t\t\tif(h==360) h = 0;\r\n\t\t\t\t\tif(h<60) {rgb.r=t1;\trgb.b=t2; rgb.g=t2+t3}\r\n\t\t\t\t\telse if(h<120) {rgb.g=t1; rgb.b=t2;\trgb.r=t1-t3}\r\n\t\t\t\t\telse if(h<180) {rgb.g=t1; rgb.r=t2;\trgb.b=t2+t3}\r\n\t\t\t\t\telse if(h<240) {rgb.b=t1; rgb.r=t2;\trgb.g=t1-t3}\r\n\t\t\t\t\telse if(h<300) {rgb.b=t1; rgb.g=t2;\trgb.r=t2+t3}\r\n\t\t\t\t\telse if(h<360) {rgb.r=t1; rgb.g=t2;\trgb.b=t1-t3}\r\n\t\t\t\t\telse {rgb.r=0; rgb.g=0;\trgb.b=0}\r\n\t\t\t\t}\r\n\t\t\t\treturn {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\r\n\t\t\t},\r\n\t\t\tRGBToHex = function (rgb) {\r\n\t\t\t\tvar hex = [\r\n\t\t\t\t\trgb.r.toString(16),\r\n\t\t\t\t\trgb.g.toString(16),\r\n\t\t\t\t\trgb.b.toString(16)\r\n\t\t\t\t];\r\n\t\t\t\t$.each(hex, function (nr, val) {\r\n\t\t\t\t\tif (val.length == 1) {\r\n\t\t\t\t\t\thex[nr] = '0' + val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn hex.join('');\r\n\t\t\t},\r\n\t\t\tHSBToHex = function (hsb) {\r\n\t\t\t\treturn RGBToHex(HSBToRGB(hsb));\r\n\t\t\t},\r\n\t\t\trestoreOriginal = function () {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').origColor;\r\n\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t};\r\n\t\treturn {\r\n\t\t\tinit: function (opt) {\r\n\t\t\t\topt = $.extend({}, defaults, opt||{});\r\n\t\t\t\tif (typeof opt.color == 'string') {\r\n\t\t\t\t\topt.color = HexToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.r != undefined && opt.color.g != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = RGBToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.h != undefined && opt.color.s != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = fixHSB(opt.color);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tif (!$(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar options = $.extend({}, opt);\r\n\t\t\t\t\t\toptions.origColor = opt.color;\r\n\t\t\t\t\t\tvar id = 'collorpicker_' + parseInt(Math.random() * 1000);\r\n\t\t\t\t\t\t$(this).data('colorpickerId', id);\r\n\t\t\t\t\t\tvar cal = $(tpl).attr('id', id);\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.appendTo(this).show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcal.appendTo(document.body);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toptions.fields = cal\r\n\t\t\t\t\t\t\t\t\t\t\t.find('input')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('keyup', keyDown)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('change', change)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('blur', blur)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('focus', focus);\r\n\t\t\t\t\t\tcal\r\n\t\t\t\t\t\t\t.find('span').bind('mousedown', downIncrement).end()\r\n\t\t\t\t\t\t\t.find('>div.colorpicker_current_color').bind('click', restoreOriginal);\r\n\t\t\t\t\t\toptions.selector = cal.find('div.colorpicker_color').bind('mousedown', downSelector);\r\n\t\t\t\t\t\t//options.selectorIndic = options.selector.find('div div');\r\n\t\t\t\t\t\toptions.selectorIndic = cal.find('div.colorpicker_color div div'); // modified by lwf\r\n\t\t\t\t\t\toptions.el = this;\r\n\t\t\t\t\t\toptions.hue = cal.find('div.colorpicker_hue div');\r\n\t\t\t\t\t\tcal.find('div.colorpicker_hue').bind('mousedown', downHue);\r\n\t\t\t\t\t\toptions.newColor = cal.find('div.colorpicker_new_color');\r\n\t\t\t\t\t\toptions.currentColor = cal.find('div.colorpicker_current_color');\r\n\t\t\t\t\t\tcal.data('colorpicker', options);\r\n\t\t\t\t\t\tcal.find('div.colorpicker_submit')\r\n\t\t\t\t\t\t\t.bind('mouseenter', enterSubmit)\r\n\t\t\t\t\t\t\t.bind('mouseleave', leaveSubmit)\r\n\t\t\t\t\t\t\t.bind('click', clickSubmit);\r\n\t\t\t\t\t\tfillRGBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetHue(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.css({\r\n\t\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowPicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tshow.apply(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thidePicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\t$('#' + $(this).data('colorpickerId')).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetColor: function(col) {\r\n\t\t\t\tif (typeof col == 'string') {\r\n\t\t\t\t\tcol = HexToHSB(col);\r\n\t\t\t\t} else if (col.r != undefined && col.g != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = RGBToHSB(col);\r\n\t\t\t\t} else if (col.h != undefined && col.s != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = fixHSB(col);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\t$.fn.extend({\r\n\t\tColorPicker: ColorPicker.init,\r\n\t\tColorPickerHide: ColorPicker.hidePicker,\r\n\t\tColorPickerShow: ColorPicker.showPicker,\r\n\t\tColorPickerSetColor: ColorPicker.setColor\r\n\t});\r\n\treturn $;\r\n});\ndefine('skylark-eyecon-colorpicker/main',[\r\n\t\"./colorpicker\"\r\n],function(colorpicker){\r\n\treturn colorpicker;\r\n});\ndefine('skylark-eyecon-colorpicker', ['skylark-eyecon-colorpicker/main'], function (main) { return main; });\n\n"]}